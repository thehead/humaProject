<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/iconfont/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="css/swiper-3.3.1.min.css"/>

    <link rel="stylesheet" href="css/mobiscroll.core-2.5.2.css">
    <link rel="stylesheet" href="css/mobiscroll.android-ics-2.5.2.css">

    <link rel="stylesheet" href="css/personalCenter.css">


    <script src="js/preLoding.js"></script>
    <script>
        (function () {
            var vw = document.documentElement.clientWidth,
                    html = document.querySelector('html');
            var font = html.style.fontSize = (vw / 375 > 2 ? '200px' : (vw / 375 * 100 + 'px'));
            console.log(font);
        })()
    </script>
</head>
<body>
<!--个人信息-->
<form action="">
    <section class="pcHeader pcPersonalFile">
        <ul>
            <li class="pcPortrait">
                <img id="pcPortraitImg" src="images/portrait.png" alt="微信头像">
            </li>
            <li class="pcDescribe">
                <form action="">
                    <div>
                        <span id="weiNickname" href="javascript:;">
                            <input type="text" placeholder="微信昵称"></span>
                        <a class="pcPortraitWord" href="javascript:;">
                            <span type="text" disabled id="selectFileBtn"
                                  style=" text-decoration: underline;color: #ff5f00;">选择头像图片</span>
                            <input accept="image/*" type="file" id="pcPortraitWord" onchange="" style="visibility: hidden" value="选择图片">
                        </a>
                    </div>
                </form>
            </li>
            <li>
                <i id="icon-pingjia" class="iconfont icon-pingjia"></i>
            </li>
        </ul>
    </section>
    <!--订单-->
    <section class="pcOrder">
        <ul>
            <li class="fund">
                <a href="phone.html">
                    <i class="iconfont icon-phone pcOrderS"></i>
                    <span>18511788686</span>
                    <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
                </a>
            </li>
            <li class="sale">
                <a href="javascript:void(0)">
                    <i class="iconfont icon-gender pcOrderS"></i>
                    <span>性别</span>
                    <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
                </a>
            </li>
            <li>
                <div id="sexCheck">
                    <span class="sexCheckContainer">
                        <span>
                            <input type="radio" name="sex" value="男" checked>
                            <p>男</p>
                        </span>
                        <span>
                            <input type="radio" name="sex" value="女">
                            <p>女</p>
                        </span>
                        <!--< selected value="">—男—</>-->
                        <!--<option value="">—女—</option>-->
                    </span>
                </div>
            </li>
            <li class="rights">
                <i class="iconfont icon-riqi pcOrderS"></i>
                <span id="brithdayWord">
                    出生日期
                </span>
                <!--日期-->
                <div class="demos">
                    <label for="appDate"></label>
                    <input type="text" name="appDate" id="appDate" />
                </div>
                <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
            </li>
            <li>
                <div id="brithdayCheck">
                    <!--日期-->
                            <!--<span>-->
                                <!--<select>-->
                                    <!--<option selected value="">—年—</option>-->
                                    <!--<option value="">1990年</option>-->
                                    <!--<option value="">1990年</option>-->
                                    <!--<option value="">1990年</option>-->
                                    <!--<option value="">1990年</option>-->
                                    <!--<option value="">1990年</option>-->
                                    <!--<option value="">1990年</option>-->
                                <!--</select>-->
                            <!--</span>-->
                    <!--<span>-->
                                <!--<select>-->
                                    <!--<option selected value="">—月—</option>-->
                                    <!--<option value="">12月</option>-->
                                    <!--<option value="">12月</option>-->
                                    <!--<option value="">12月</option>-->
                                    <!--<option value="">12月</option>-->
                                    <!--<option value="">12月</option>-->
                                    <!--<option value="">12月</option>-->
                                <!--</select>-->
                            <!--</span>-->
                    <!--<span>-->
                                <!--<select>-->
                                    <!--<option selected value="">—日—</option>-->
                                    <!--<option value="">11日</option>-->
                                    <!--<option value="">11日</option>-->
                                    <!--<option value="">11日</option>-->
                                    <!--<option value="">11日</option>-->
                                    <!--<option value="">11日</option>-->
                                    <!--<option value="">11日</option>-->
                                <!--</select>-->
                            <!--</span>-->
                </div>
            </li>
            <li class="huM">
                <a href="recive.html">
                    <i class="iconfont icon-weizhi pcOrderS"></i>
                    <span>收货管理地址</span>
                    <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
                </a>
            </li>
        </ul>
    </section>
</form>
<div id="mask" style="position: fixed;background:rgba(45, 45, 45, 0.3);height: 100%;width: 100%;top: 0px;display:none">
    <div id="animatebox"
         style=" background: #FFF;position: fixed;z-index: 999;width: 94%;left: 50%;top: 35%;margin: 0 auto;margin-left: -47%;">
        <div style="margin: 0 auto">
            <label><input name="sex" type="radio" value="nan"/>男</label>
            <label><input name="sex" type="radio" value="nv"/>女</label>
            <br/>
            <input type="button" value="确定" id="sexConfirmBtn">
        </div>
    </div>
</div>
<!--头像裁剪-->
<article class="htmleaf-container">
    <div id="clipArea" style="user-select: none; overflow: hidden; position: relative;"><div class="photo-clip-view" style="position: absolute; left: 50%; top: 50%; width: 220px; height: 220px; margin-left: -110px; margin-top: -110px;"><div class="photo-clip-moveLayer" style="transform-origin: 0px 0px 0px; transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1); transition-duration: 0ms; transform: translate(0px, 0px) scale(1) translateZ(0px); touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><div class="photo-clip-rotateLayer"></div></div></div><div class="photo-clip-mask" style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; pointer-events: none;"><div class="photo-clip-mask-left" style="position: absolute; left: 0px; right: 50%; top: 50%; bottom: 50%; width: auto; height: 220px; margin-right: 110px; margin-top: -110px; margin-bottom: -110px; background-color: rgba(0, 0, 0, 0.498039);"></div><div class="photo-clip-mask-right" style="position: absolute; left: 50%; right: 0px; top: 50%; bottom: 50%; margin-left: 110px; margin-top: -110px; margin-bottom: -110px; background-color: rgba(0, 0, 0, 0.498039);"></div><div class="photo-clip-mask-top" style="position: absolute; left: 0px; right: 0px; top: 0px; bottom: 50%; margin-bottom: 110px; background-color: rgba(0, 0, 0, 0.498039);"></div><div class="photo-clip-mask-bottom" style="position: absolute; left: 0px; right: 0px; top: 50%; bottom: 0px; margin-top: 110px; background-color: rgba(0, 0, 0, 0.498039);"></div><div class="photo-clip-area" style="border: 1px dashed rgb(221, 221, 221); position: absolute; left: 50%; top: 50%; width: 220px; height: 220px; margin-left: -111px; margin-top: -111px;"></div></div></div>
    <div class="foot-use">
        <div class="uploader1 blue">
            <input type="button" name="file" class="button" value="选择图片">
            <input id="file" type="file" accept="image/*" multiple="">
        </div>
        <input type="button" class="quxiao" value="取消">
        <button id="clipBtn">截取图片</button>
    </div>
    <div id="view" style="background-color: rgb(102, 102, 102); background-repeat: no-repeat; background-position: center center; background-size: contain;"></div>
</article>
<script src="js/zepto_1.1.3.js" type="text/javascript" charset="utf-8"></script>
<script src="js/personalCenter.js" type="text/javascript" charset="utf-8"></script>

<script src="js/jquery.min.js"></script>
<script src="js/iscroll-zoom.js"></script>
<script src="js/hammer.js"></script>
<script src="js/jquery.photoClip.js"></script>

<script src="js/mobiscroll.core-2.5.2.js"></script>
<script src="js/mobiscroll.core-2.5.2-zh.js"></script>
<script src="js/mobiscroll.datetime-2.5.1.js"></script>
<script src="js/mobiscroll.datetime-2.5.1-zh.js"></script>
<script src="js/mobiscroll.android-ics-2.5.2.js"></script>

<script>
    //    $(function () {
    //        var $input_browseFile = $("#pcPortraitWord");
    //        $input_browseFile.on("change",function () {
    //            previewInImage(this.files[0]);
    //        });
    //    });
    //    function previewInImage (file) {
    //        //通过file.size可以取得图片大小
    //        var reader = new FileReader();
    //        reader.onload = function( evt ){
    //            console.log("111");
    //            console.log(evt.target.result);
    //            $('#pcPortraitImg').src = evt.target.result;
    //        }
    //    }

//    $(function () {
//        var $selectFileBtn = $('#selectFileBtn');
//        var $input_browseFile = $('#pcPortraitWord');
//        $input_browseFile.on('change', filter);
//        $selectFileBtn.on('click', function (e) {
//            $input_browseFile.trigger('click');
//        });
////        $("#sexConfirmBtn").on('touchstart', confirmSex);
//    });
//    //过滤图片
//    function filter(e) {
//        var $pcPortraitImg = $('#pcPortraitImg');
//        var files = e.target.files,   // 获取本地文件File对象集合
//                typelist = ["image/jpeg", "image/png"],  // 合法文件type列表
//                filetype, // 当前文件的类型
//                isPic;  // 文件类型是否合法标识
//        //  针对PC端多选的情况,前提是 input[type=file]元素包含 multiple属性
//        for (var i = 0, len = files.length; i < len; i++) {
//            filetype = files[i].type;
//            //判断filetype是否属于图片
//            isPic = typelist.some(function (item) {
//                return item == filetype;
//            });
//            if (isPic) {
//                addImage(files[i], $pcPortraitImg);   //同时添加到页面
//            } else {
//                // 提示文件非图片
//                alert('请选择正确的图片格式');
//            }
//        }
//    }
//    //添加图片 转base64
//    function addImage(file, $imgObj) {
//        var reader = new FileReader();
//        reader.readAsDataURL(file);
//        reader.onload = function (e) {
//            $imgObj.attr("src", reader.result);
//        }
//    }

    //点击显示功能列表
    $('#selectFileBtn').on('touchstart',function () {
        $('.htmleaf-container').show();
    });

    //点击添加图片
    //插件默认
    $(function(){
        var obUrl = '';
        $("#clipArea").photoClip({
            width: 220,
            height: 220,
            file: "#file",
            view: "#view",
            ok: "#clipBtn",
            loadStart: function() {
                console.log("照片读取中");
            },
            loadComplete: function() {
                console.log("照片读取完成");
            },
            clipFinish: function(dataURL) {
                console.log(dataURL);
            }
        });


        var n = 0;

        //触发点击
//        $(".logox").on('click',function(){
//            n = $(this).index();
//            $(".htmleaf-container").show();
//        });
        $("#clipBtn").click(function(){
            if(imgsource!=''){
                $('#pcPortraitImg').attr("src", imgsource);
                $('.htmleaf-container').hide();
            }
        });


//        $(".boix a i").on('click',function(){
//            var th = $(this).parent().parent();
//            th.remove();
//            /*
//             th.empty();
//             th.append('<img src="' + 'images/uploadImg2.png' + '">');
//             th.parent().addClass('logox');
//             */
//        });

        //取消
        $(".quxiao").click(function(){
            $(".htmleaf-container").hide();
        });

    });


    //显示选择性别
    function setSex() {
        $("#mask").css("display", "block");
    }

    //确定按钮
    function confirmSex() {
        var $sex = $('[name="sex"]').filter(":checked");
        if ($sex.length == 0) {
            return;
        } else {
            $("#mask").css("display", "none");
            console.log($sex.attr("value"));
        }
    }

    //点击按钮聚焦文字
    var $iconPingjia=$('#icon-pingjia');
    $iconPingjia.on('touchstart',function () {
        $('#weiNickname').children('input').focus();
        return false;
    });

    //生日
//   var $rights=$('.rights');
//    $rights.on('touchstart',function () {
//        $('#brithdayCheck').show()
//    });

    //性别
    $('.sale').on('touchstart',function () {
        $('#sexCheck').show();
    });


    //日期插件
    $(function () {
        var currYear = (new Date()).getFullYear();
        var opt = {};
        opt.date = {preset: 'date'};
        //opt.datetime = { preset : 'datetime', minDate: new Date(2012,3,10,9,22), maxDate: new Date(2014,7,30,15,44), stepMinute: 5  };
        opt.datetime = {preset: 'datetime'};
        opt.time = {preset: 'time'};
        opt.default = {
            theme: 'android-ics light', //皮肤样式
            display: 'modal', //显示方式
            mode: 'scroller', //日期选择模式
            lang: 'zh',
            startYear: currYear - 70, //开始年份
            endYear: currYear //结束年份
        };

        $("#appDate").val('').scroller('destroy').scroller($.extend(opt['date'], opt['default']));
    })



</script>
</body>
</html>