<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/iconfont/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="css/swiper-3.3.1.min.css"/>
    <link rel="stylesheet" href="css/personalCenter.css">
    <script>
        (function () {
            var vw = document.documentElement.clientWidth,
                    html = document.querySelector('html');
            var font = html.style.fontSize = (vw / 375 > 2 ? '200px' : (vw / 375 * 100 + 'px'));
            console.log(font);
        })()
    </script>
</head>
<body>
<!--个人信息-->
<form action="">
    <section class="pcHeader pcPersonalFile">
        <ul>
            <li class="pcPortrait">
                <img id="pcPortraitImg" src="images/portrait.png" alt="微信头像">
            </li>
            <li class="pcDescribe">
                <form action="">
                    <div>
                        <span id="weiNickname" href="javascript:;">
                            <input type="text" placeholder="微信昵称"></span>
                        <a class="pcPortraitWord" href="javascript:;">
                            <span type="text" disabled id="selectFileBtn"
                                  style=" text-decoration: underline;color: #ff5f00;">选择文件</span>
                            <input type="file" id="pcPortraitWord" onchange="" style="visibility: hidden" value="选择图片">
                        </a>
                    </div>
                </form>
            </li>
            <li>
                <i id="icon-pingjia" class="iconfont icon-pingjia"></i>
            </li>
        </ul>
    </section>
    <!--订单-->
    <section class="pcOrder">
        <ul>
            <li class="fund">
                <a href="phone.html">
                    <i class="iconfont icon-phone pcOrderS"></i>
                    <span>18511788686</span>
                    <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
                </a>
            </li>
            <li class="sale" onclick="setSex()">
                <a href="javascript:void(0)">
                    <i class="iconfont icon-gender pcOrderS"></i>
                    <span>性别</span>
                    <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
                </a>
            </li>
            <li class="rights">
                <i class="iconfont icon-riqi pcOrderS"></i>
                <span id="brithdayWord">
                    出生日期
                </span>
                <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
            </li>
            <li>
                <div id="brithdayCheck">
                            <span>
                                <select>
                                    <option selected value="">—年—</option>
                                    <option value="">1990年</option>
                                    <option value="">1990年</option>
                                    <option value="">1990年</option>
                                    <option value="">1990年</option>
                                    <option value="">1990年</option>
                                    <option value="">1990年</option>
                                </select>
                            </span>
                    <span>
                                <select>
                                    <option selected value="">—月—</option>
                                    <option value="">12月</option>
                                    <option value="">12月</option>
                                    <option value="">12月</option>
                                    <option value="">12月</option>
                                    <option value="">12月</option>
                                    <option value="">12月</option>
                                </select>
                            </span>
                    <span>
                                <select>
                                    <option selected value="">—日—</option>
                                    <option value="">11日</option>
                                    <option value="">11日</option>
                                    <option value="">11日</option>
                                    <option value="">11日</option>
                                    <option value="">11日</option>
                                    <option value="">11日</option>
                                </select>
                            </span>
                </div>
            </li>
            <li class="huM">
                <a href="recive.html">
                    <i class="iconfont icon-weizhi pcOrderS"></i>
                    <span>收货管理地址</span>
                    <i class="iconfont icon-xiangyoujiantou iconLeft"></i>
                </a>
            </li>
        </ul>
    </section>
</form>
<div id="mask" style="position: fixed;background:rgba(45, 45, 45, 0.3);height: 100%;width: 100%;top: 0px;display:none">
    <div id="animatebox"
         style=" background: #FFF;position: fixed;z-index: 999;width: 94%;left: 50%;top: 35%;margin: 0 auto;margin-left: -47%;">
        <div style="margin: 0 auto">
            <label><input name="sex" type="radio" value="nan"/>男 </label>
            <label><input name="sex" type="radio" value="nv"/>女</label>
            <br/>
            <input type="button" value="确定" id="sexConfirmBtn">
        </div>
    </div>
</div>
<script src="js/zepto_1.1.3.js" type="text/javascript" charset="utf-8"></script>
<script src="js/personalCenter.js" type="text/javascript" charset="utf-8"></script>
<script>
    //    $(function () {
    //        var $input_browseFile = $("#pcPortraitWord");
    //        $input_browseFile.on("change",function () {
    //            previewInImage(this.files[0]);
    //        });
    //    });
    //    function previewInImage (file) {
    //        //通过file.size可以取得图片大小
    //        var reader = new FileReader();
    //        reader.onload = function( evt ){
    //            console.log("111");
    //            console.log(evt.target.result);
    //            $('#pcPortraitImg').src = evt.target.result;
    //        }
    //    }

    $(function () {
        var $selectFileBtn = $('#selectFileBtn');
        var $input_browseFile = $('#pcPortraitWord');
        $input_browseFile.on('change', filter);
        $selectFileBtn.on('touchstart', function (e) {
            $input_browseFile.trigger('click');
        });
        $("#sexConfirmBtn").on('touchstart', confirmSex);
    });
    //过滤图片
    function filter(e) {
        var $pcPortraitImg = $('#pcPortraitImg');
        var files = e.target.files,   // 获取本地文件File对象集合
                typelist = ["image/jpeg", "image/png"],  // 合法文件type列表
                filetype, // 当前文件的类型
                isPic;  // 文件类型是否合法标识
        //  针对PC端多选的情况,前提是 input[type=file]元素包含 multiple属性
        for (var i = 0, len = files.length; i < len; i++) {
            filetype = files[i].type;
            //判断filetype是否属于图片
            isPic = typelist.some(function (item) {
                return item == filetype;
            });
            if (isPic) {
                addImage(files[i], $pcPortraitImg);   //同时添加到页面
            } else {
                // 提示文件非图片
                alert('请选择正确的图片格式');
            }
        }
    }
    //添加图片
    function addImage(file, $imgObj) {
        var reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = function (e) {
            $imgObj.attr("src", reader.result);
        }
    }

    //显示选择性别
    function setSex() {
        $("#mask").css("display", "block");
    }

    //确定按钮
    function confirmSex() {
        var $sex = $('[name="sex"]').filter(":checked");
        if ($sex.length == 0) {
            return;
        } else {
            $("#mask").css("display", "none");
            console.log($sex.attr("value"));
        }
    }

    //点击按钮聚焦文字
    var $iconPingjia=$('#icon-pingjia');
    $iconPingjia.on('touchstart',function () {
        $('#weiNickname').children('input').focus()
    });

    //生日
   var $rights=$('.rights');
    $rights.on('touchstart',function () {
        $('#brithdayCheck').show()
    })
</script>
</body>
</html>